task{
    retries
    type 
    payload
}

I will store the OTP with TTL 5 minutes. they will have to send another verify-otp request to my endpoint

tpye = email | custom
payload 
    email - SMTP
        recepient email
        o)generate OTP
            how many digits
        o)verify OTP
        o)Message
            type - password or username reset | normal message
            content - in markdown
        o)subscription
            Time? - daily | weekly | yearly
            User wants to unsubscribe?
        o)unsubscribe

    x)Do I need to spin up an aws image for this to work or can I acheive this internally only with SMTP?
    ans) can be achieved with SMTP. google provides one.

    custom - Dockerfile
        Dockerfile Content (needs validation)
        Output?

    If running the docker image returns the wanted output in the shell, then the task can be deemed successful? or should running the image be successful
    and the output should be the output, doesn't matter if it's error or successful. 
        
Response
    email
        Successful email sent
            success code
            mail sent successfully
        Error Encountered
            error code
            error message


upon request, insert into queue.
Upon fail, insert into queue

Should have dedicated logs and metrics endpoint? what type of auth for that? 


the /enqueue endpoint will enqueue the task using RPUSH
the workers will running already in separate goroutines, upon enqueue, they will take out the task when available using BLPOP. check how many retries,
run the retries that many times. They will be in an infinite for loop, so that they keep checking the list. and since BLPOP is a blocking function, they won't move
forward unless that shi available in list
retry logic in the goroutine

// have to implement rate limiting for the 

//implement subject in the redis storage as well.

//need to fix the content shi while the subscribe request is sent.